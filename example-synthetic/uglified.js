const IS_LOCAL_ENV=void 0===$http;var $http;async function grabConfig(t,e,o,r,i){const u="US"==o?"https://api.newrelic.com/graphql":"https://api.eu.newrelic.com/graphql";"undefined"!=typeof $util&&$util.insights.set("configurator",r+"-"+t);o=await(async(t,e)=>{var c,a,o,t={url:u,method:"POST",headers:{"Content-Type":"application/json","API-Key":i,"NewRelic-Package-Id":r},body:JSON.stringify({query:t,variables:e})},e=(a=t=>t,"timeout"in(c=t)||(c.timeout=1e4),await new Promise((n,r)=>{$http(c,function(t,e,o){t?r(`Connection error on url '${c.url}'`):200!=e.statusCode?(console.log(e.body),r("API did not respond with a 200 OK, got "+e.statusCode)):n(a(o,e,t))})}));let n={};try{return(n=null===(o=e)||"function"!=typeof o&&"object"!=typeof o?JSON.parse(e):e).errors&&0<n.errors.length&&(GQL_ERROR_DETECTED=!0,console.log("!! GQL Query error detected:",n.errors)),n}catch(t){console.log("Error: Response from New Relic failed to parse as JSON.",t)}})('query($accountId: Int!, $documentId: String!) {actor {account(id: $accountId){nerdStorage{document(collection: "SyntheticConfigurator",documentId:$documentId)}}}}',{accountId:parseInt(e),documentId:t});return JSON.parse(o.data.actor.account.nerdStorage.document.config)}IS_LOCAL_ENV&&($http=require("request"),console.log("Running in local mode",!0));